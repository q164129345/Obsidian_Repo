# 导言
---
网址：https://matlabacademy.mathworks.com/cn/details/matlab-onramp/gettingstarted

# 一、命令
---
在 MATLAB 中输入命令以执行计算和创建变量。

## 1.1、输入命令
- 任务一：您可以通过在命令行窗口中 MATLAB 提示符 (>>) 后输入命令，然后按 Enter 键来执行命令。
- 任务二：将 3 * 5 的计算结果赋给一个名为 m 的变量。
- 任务三：MATLAB 中的等号 (=) 是赋值运算符，这意味着等号右侧的表达式赋给左侧的变量。
- 任务四：请注意，工作区窗口（右侧）显示了当前位于工作区中的所有变量。
- 任务五：在命令的末尾添加分号将抑制输出，但仍会执行该命令，正如您在工作区中所看到的。当您输入命令而没有以分号结尾时，MATLAB 将会在命令提示符下显示结果。
- 任务六：您可以按键盘上的向上箭头键重新调用以前的命令。请注意，要执行此操作，命令行窗口必须为活动窗口。
- 任务七：当您在命令提示符下仅输入变量名称时，MATLAB 将会返回该变量的当前值。
### 1.1.1、任务一
>您可以通过在命令行窗口中 MATLAB 提示符 (>>) 后输入命令，然后按 Enter 键来执行命令。

![[Pasted image 20250210143933.png | 800]]

输入3 * 5，按下Enter后，输出ans = 15。接着，右侧的工作区出现变量名ans，值=15。 

### 1.1.2、任务二
> 将 3 * 5 的计算结果赋给一个名为 m 的变量。

![[Pasted image 20250210144813.png | 800]]
输入m = 3 * 5，按下Enter，输出m = 15。接着，右侧的工作区出现变量名m，值=15。 *除非另有指定，否则 MATLAB 会将计算结果存储在一个名为 ans 的变量中。*

### 1.1.3、任务三
> MATLAB 中的等号 (=) 是赋值运算符，这意味着等号右侧的表达式赋给左侧的变量。

![[Pasted image 20250210145908.png | 800]]
输入m = m + 1，按下Enter，输出m = 16。接着，右侧的工作区的变量m的值从15变成16。

### 1.1.4、任务四
> 请注意，工作区窗口（右侧）显示了当前位于工作区中的所有变量。

![[Pasted image 20250210150313.png | 800]]
输入y = m / 2，按下Enter，输出y = 8。从这个例子了解到，我们可以利用工作区的已有变量进行接下来的运算。

### 1.1.5、任务五
> 在命令的末尾添加分号将抑制输出，但仍会执行该命令，正如您在工作区中所看到的。当您输入命令而没有以分号结尾时，MATLAB 将会在命令提示符下显示结果。

![[Pasted image 20250210151013.png | 800]]

### 1.1.6、任务六
> 您可以按键盘上的向上箭头键重新调用以前的命令。请注意，要执行此操作，命令行窗口必须为活动窗口。

![[Pasted image 20250210151715.png | 800]]

### 1.1.7、任务七
> 当您在命令提示符下仅输入变量名称时，MATLAB 将会返回该变量的当前值。

![[Pasted image 20250210151904.png | 800]]
## 1.2、命令变量
- 您可以将 MATLAB 变量命名为符合以下规则的任何名称：以字母开头，并且仅包含字母、数字和下划线 ( _ )。
- 但对变量进行更有意义的命名会更有用。

## 1.3、保存和加载变量
- 任务一：您可以使用 save 命令将工作区中的变量保存到称为 MAT 文件的 MATLAB 特定格式文件中。
- 任务二：当您要在 MATLAB 中切换处理新问题时，可能需要整理工作区。您可以使用 clear 函数从工作区中删除所有变量。
- 任务三：在工作区中，您可以看到 clear 命令清空了所有变量。您可以使用 load 命令从 MAT 文件加载变量。
- 任务四：clear 函数清理工作区。clc 命令清理命令行窗口。
### 1.3.1、任务一
> 您可以使用 save 命令将工作区中的变量保存到称为 MAT 文件的 MATLAB 特定格式文件中。

![[Pasted image 20250210165721.png | 800]]
### 1.3.2、任务二
> 当您要在 MATLAB 中切换处理新问题时，可能需要整理工作区。您可以使用 clear 函数从工作区中删除所有变量。

![[Pasted image 20250210165853.png | 800]]

### 1.3.3、任务三
> 在工作区中，您可以看到 clear 命令清空了所有变量。您可以使用 load 命令从 MAT 文件加载变量。

![[Pasted image 20250210170018.png | 800]]

### 1.3.4、任务四
> clear 函数清理工作区。clc 命令清理命令行窗口。

![[Pasted image 20250210170215.png | 800]]
![[Pasted image 20250210170314.png | 800]]

## 1.3、使用内置的函数与常量
- 任务一：MATLAB 包含一些内置的常量，例如用 pi 表示 π。
- 任务二：MATLAB 包含许多内置的函数，例如 abs（计算绝对值）和 eig（计算特征值）。
- 任务三：使用 sqrt 函数计算 -9 的平方根。将结果赋给一个名为 z 的变量。

### 1.3.1、任务一
> MATLAB 包含一些内置的常量，例如用 pi 表示 π。

![[Pasted image 20250210170742.png | 800]]
### 1.3.2、任务二
> MATLAB 包含许多内置的函数，例如 abs（计算绝对值）和 eig（计算特征值）。

![[Pasted image 20250210172127.png | 800]]
### 1.3.3、任务三
> 使用 sqrt 函数计算 -9 的平方根。将结果赋给一个名为 z 的变量。

![[Pasted image 20250210172253.png | 800]]


# 二、MATLAB桌面和编辑器
这一章节本质是讲怎样创、运行一个实时脚本。
## 2.1、新建实时脚本
![[Pasted image 20250210174220.png | 1100]]

## 2.2、创建分节符
![[mat01.gif | 1100]]
如上所示，实时脚本可以创建多个分节符，相当于可以将一个大块脚本分成多个“段”。

## 2.3、运行整个脚本
![[mat02.gif | 1100]]
## 2.3、单独运行每一个分节符
![[mat03.gif | 1100]]
## 2.4、导出脚本内容与运行的结果
![[Pasted image 20250210202902.png | 1100]]
![[Pasted image 20250210202924.png | 1100]]
如上是导出HTML格式的内容。

# 三、向量和矩阵
---
![[Pasted image 20250210203730.png]]
## 3.1、手动输入数组
- 任务一：单个称为标量的数值实际上是一个 1×1 数组，也即它包含 1 行 1 列。
- 任务二：您可以使用方括号创建包含多个元素的数组。
- 任务三：当您用空格（或逗号）分隔数值时（如前面的任务中所示），MATLAB 会将这些数值组合为一个行向量，行向量是一个包含一行多列的数组 (1×n)。当您用分号分隔数值时，MATLAB 会创建一个列向量 (n×1)。
- 任务四：创建一个名为 x 的行向量，其中依次包含值 3、10 和 5。
- 任务五：创建一个名为 x 的列向量，其中依次包含值 8、2 和 -4。
- 任务六：您可以组合使用空格和分号来创建一个矩阵，即包含多行多列的数组。输入矩阵时，您必须逐行输入它们。
- 任务七：在 MATLAB 中，您可以在方括号内执行计算。

### 3.1.1、任务一
> 单个称为标量的数值实际上是一个 1×1 数组，也即它包含 1 行 1 列。

![[Pasted image 20250211101014.png | 800]]
### 3.1.2、任务二
> 您可以使用方括号创建包含多个元素的数组。

![[Pasted image 20250211101449.png | 800]]

### 3.1.3、任务三
> 当您用空格（或逗号）分隔数值时（如前面的任务中所示），MATLAB 会将这些数值组合为一个行向量，行向量是一个包含一行多列的数组 (1×n)。当您用分号分隔数值时，MATLAB 会创建一个列向量 (n×1)。

![[Pasted image 20250211101718.png | 800]]
**这样理解，分号;相当于`换行`。**

### 3.1.4、任务四
> 创建一个名为 x 的行向量，其中依次包含值 3、10 和 5。

![[Pasted image 20250211102112.png | 800]]

### 3.1.5、任务五
> 创建一个名为 x 的列向量，其中依次包含值 8、2 和 -4。

![[Pasted image 20250211102308.png | 800]]

### 3.1.6、任务六
> 您可以组合使用空格和分号来创建一个矩阵，即包含多行多列的数组。输入矩阵时，您必须逐行输入它们。

![[Pasted image 20250211102515.png | 800]]

### 3.1.7、任务七
> 在 MATLAB 中，您可以在方括号内执行计算。

![[Pasted image 20250211103308.png | 800]]
函数abs()的作用是取绝对值。

## 3.2、创建等间距向量
- 任务一：我们经常需要创建一些包含等间距数值的向量，例如以下向量。
- 任务二：对于长向量，输入单个数值是不实际的。可用来创建等间距向量的替代便捷方法是使用 : 运算符并仅指定起始值和最终值。
- 任务三：运算符使用默认的间距 1，但是您可以指定您自己的间距。
- 任务四：创建一个名为 x 的行向量，该向量以 3 开头，以 13 结尾，每个元素的间距为 2。
- 任务五：如果您知道向量中所需的元素数目（而不是每个元素之间的间距），则可以改用 linspace 函数：linspace(first,last,number_of_elements)
- 任务六：linspace 和 : 运算符都可创建行向量。但是，您可以使用转置运算符 (') 将行向量转换为列向量。
- 任务七：您可以通过在一条命令中创建行向量并将其全部转置来创建列向量。注意此处使用圆括号来指定运算的顺序。
### 3.2.1、任务一
> 我们经常需要创建一些包含等间距数值的向量，例如以下向量。

![[Pasted image 20250211105026.png | 800]]
### 3.2.2、任务二
> 对于长向量，输入单个数值是不实际的。可用来创建等间距向量的替代便捷方法是使用 : 运算符并仅指定起始值和最终值。

![[Pasted image 20250211105150.png | 800]]
### 3.2.3、任务三
> : 运算符使用默认的间距 1，但是您可以指定您自己的间距。

![[Pasted image 20250211105456.png | 800]]
如上所示，x = [1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0]

### 3.2.4、任务四
> 创建一个名为 x 的行向量，该向量以 3 开头，以 13 结尾，每个元素的间距为 2。

![[Pasted image 20250211105738.png | 800]]
如上所示，x = [3 5 7 9 11 13]

### 3.2.5、任务五
> 如果您知道向量中所需的元素数目（而不是每个元素之间的间距），则可以改用 linspace 函数：linspace(first,last,number_of_elements)

![[Pasted image 20250211110109.png | 800]]
如上图所示，x = [1 3.25 5.5 7.75 10]
### 3.2.6、任务六
> linspace 和 : 运算符都可创建行向量。但是，您可以使用转置运算符 (') 将行向量转换为列向量。

![[Pasted image 20250211110538.png | 800]]
### 3.2.7、任务七
> 您可以通过在一条命令中创建行向量并将其全部转置来创建列向量。注意此处使用圆括号来指定运算的顺序。

![[Pasted image 20250211111254.png | 800]]
## 3.3、数组创建函数
- 任务一：MATLAB 包含许多函数，可帮助您创建常用的矩阵，例如随机数矩阵，比如rand()。
- 任务二：
- 任务三：
### 3.3.1、任务一
> MATLAB 包含许多函数，可帮助您创建常用的矩阵，例如随机数矩阵，比如rand()。

![[Pasted image 20250211111715.png | 800]]
### 3.3.2、任务二
> 许多矩阵创建函数允许您输入一个数值来创建方阵 (n×n)，或者输入两个数值来创建非方阵。

![[Pasted image 20250211112823.png | 800]]
如上所示，使用 rand 创建一个包含 5 行 1 列的数组。将结果赋给名为 x 的变量。
### 3.3.3、任务三
> 使用 zeros 函数创建一个包含 6 行 3 列 (6×3) 的全零矩阵。将结果赋给名为 x 的变量。

![[Pasted image 20250211113148.png | 800]]

# 四、索引和修改数组
---
## 4.1、对数组进行索引
- 任务一：创建一个名为 x 的变量，其值为变量 data 中位于第 6 行第 3 列的值。
- 任务二：使用 end 关键字获取变量 data 的最后一行第三列的值。将该值赋给一个名为 x 的变量。
- 任务三：请注意，您可以将算术运算与关键字 end 结合使用。

### 4.1.1、任务一
> 创建一个名为 x 的变量，其值为变量 data 中位于第 6 行第 3 列的值。

![[Pasted image 20250211140840.png | 800]]

### 4.1.2、任务二
> 使用 end 关键字获取变量 data 的最后一行第三列的值。将该值赋给一个名为 x 的变量。

![[Pasted image 20250211141212.png | 800]]
### 4.1.3、任务三
> 请注意，您可以将算术运算与关键字 end 结合使用。

![[Pasted image 20250211141423.png | 800]]


## 4.2、提取多个元素
- 任务一：创建一个名为 density 的变量，其中包含名为 data 的矩阵中第 2 列上的所有元素。
- 任务二：创建一个名为 volumes 的变量，其中包含 data 的最后两列的所有元素。
- 任务三：使用单个索引值创建一个名为 p 并且包含向量 density 中的第 6 个元素的变量。
- 任务四：使用索引值范围创建一个名为 p 的向量，其中包含从 density 的第 2 个到第 5 个元素范围内的所有元素。

### 4.2.1、任务一
> 创建一个名为 density 的变量，其中包含名为 data 的矩阵中第 2 列上的所有元素。

![[Pasted image 20250211144909.png | 800]]

用作索引时，冒号运算符 (:) 可指代该维度中的所有元素。以下语法：
`x = A(2,:)`，会创建一个包含 A 中第 2 行上所有元素的行向量。
### 4.2.2、任务二
> 创建一个名为 volumes 的变量，其中包含 data 的最后两列的所有元素。

![[Pasted image 20250211145232.png | 800]]
冒号运算符可以引用某个值范围。以下语法会创建一个包含矩阵 A 的第 1 行、第 2 行和第 3 行所有元素的矩阵。
`x = A(1:3,:)`

### 4.2.3、任务三
> 使用单个索引值创建一个名为 p 并且包含向量 density 中的第 6 个元素的变量。

![[Pasted image 20250211145521.png | 800]]
单个索引值可用于引用向量元素。例如
`x = v(3)`会返回向量 v 的第 3 个元素（当 v 为行向量或列向量时）。

### 4.2.4、任务四
> 使用索引值范围创建一个名为 p 的向量，其中包含从 density 的第 2 个到第 5 个元素范围内的所有元素。

![[Pasted image 20250211153120.png | 800]]
单个索引值范围可用于引用向量元素的子集。例如
`x = v(3:end)`返回向量 v 的一个子集，其中包含从第三个到最后一个元素范围内的所有元素。

## 4.3、更改数组中的值
- 任务一：创建一个名为 v2 并且包含 data 的最后一列元素的向量。
- 任务二：将 v2 中的第一个元素从 NaN 更改为 0.5。
- 任务三：将 data 的第一行和最后一列中元素的值更改为 0.5。

### 4.3.1、任务一
> 创建一个名为 v2 并且包含 data 的最后一列元素的向量。

![[Pasted image 20250211154422.png | 800]]
### 4.3.2、任务二
> 将 v2 中的第一个元素从 NaN 更改为 0.5。

![[Pasted image 20250211154628.png | 800]]

### 4.3.3、任务三
> 将 data 的第一行和最后一列中元素的值更改为 0.5。

![[Pasted image 20250211155037.png | 800]]

# 五、数组计算
---
## 5.1、对向量执行数组运算
同时对整个数组执行计算。
- 任务一：将 1 与 v1 的每个元素相加，然后将结果存储在名为 r 的变量中。
- 任务二：创建一个向量 vs，它是向量 v1 和 v2 的和。
- 任务三：创建一个变量 va，其值为 vs/2（平均体积）。
- 任务四：创建一个变量 vm，其值为 va 向量的最大值。
- 任务五：使用 round 函数创建一个名为 vr 的变量，其中包含四舍五入为整数的平均体积 va。
- 任务六：创建一个名为 mass 的变量，其中包含 density 和 va 的按元素乘积。

### 5.1.1、任务一
> 将 1 与 v1 的每个元素相加，然后将结果存储在名为 r 的变量中。

![[Pasted image 20250211173331.png | 800]]
MATLAB 的设计让您能够自然地处理数组。例如，您可以将一个标量值与数组中的所有元素相加。`y = x + 2`

### 5.1.2、任务二
> 创建一个向量 vs，它是向量 v1 和 v2 的和。

![[Pasted image 20250211173541.png | 800]]
您可以将任意两个大小相同的数组相加。`z = x + y`

### 5.1.3、任务三
> 创建一个变量 va，其值为 vs/2（平均体积）。

![[Pasted image 20250211173736.png | 800]]
您可以将数组中的所有元素与某个标量相乘或相除。
`z = 2*x`
`y = x/3`

### 5.1.4、任务四
> 创建一个变量 vm，其值为 va 向量的最大值。

![[Pasted image 20250211173921.png | 800]]
MATLAB 中的基本统计函数可应用于某个向量以生成单个输出。可以使用 max 函数来确定向量的最大值。
`xMax = max(x)`

### 5.1.5、任务五
> 使用 round 函数创建一个名为 vr 的变量，其中包含四舍五入为整数的平均体积 va。

![[Pasted image 20250211174211.png | 800]]
MATLAB 的函数可在单个命令中对整个向量或值数组执行数学运算。
`xSqrt = sqrt(x)`

### 5.1.6、任务六
> 创建一个名为 mass 的变量，其中包含 density 和 va 的按元素乘积。

![[Pasted image 20250211174452.png | 800]]
\*运算符执行矩阵乘法。因此，如果您使用 \* 将两个大小相同的向量相乘，则由于内部维度不一致，您将会收到一条错误消息。
`z = [3 4] * [10 20]`
**错误使用  * 
用于矩阵乘法的维度不正确。 

而 .* 运算符执行按元素乘法，允许您将两个大小相同的数组的对应元素相乘。
`z = [3 4] .* [10 20]`
z = 
    30    80

# 六、调用函数
---
调用函数以获取多个输出。

## 6.1、获取函数的多个输出
- 任务一：创建一个名为 dsize 的变量，其值为 data 变量的大小。
- 任务二：创建变量 dr 和 dc，其中分别包含变量 data 的行数和列数。
- 任务三：创建变量 vMax 和 ivMax，其中分别包含 v2 向量的最大值和对应的索引值。

### 6.1.1、任务一
>创建一个名为 dsize 的变量，其值为 data 变量的大小。

![[Pasted image 20250211175059.png | 800]]
### 6.1.2、任务二
> 创建变量 dr 和 dc，其中分别包含变量 data 的行数和列数。

![[Pasted image 20250211175324.png | 800]]
size 函数可以应用于矩阵，以生成单个输出变量或两个输出变量。使用方括号 ([ ]) 获得多个输出。
`[xrow,xcol] = size(x)`

### 6.1.3、任务三
> 创建变量 vMax 和 ivMax，其中分别包含 v2 向量的最大值和对应的索引值。

![[Pasted image 20250211175658.png | 800]]
可以使用 max 函数确定向量的最大值及其对应的索引值。max 函数的第一个输出为输入向量的最大值。执行带两个输出的调用时，第二个输出为索引值。
`[xMax,idx] = max(x)`

# 七、获取帮助
---
Matlab官方文档: https://ww2.mathworks.cn/help/matlab/index.html

## 7.1、任务一
> MATLAB 文档包含有用的示例和信息，可帮助您自行处理问题。

参考 randi 的文档以完成以下任务：
- 创建一个名为 x 的矩阵，其中包含 1 到 20 范围的随机整数，行数为 5，列数为 7。

![[Pasted image 20250211180547.png | 1100]]
如上所示，输入需要搜索的函数。
![[Pasted image 20250211180824.png | 1100]]
![[Pasted image 20250211180910.png | 1100]]

![[Pasted image 20250211180956.png | 800]]
如上所示，参考官方文档的说明，编写代码，达到目的。

# 八、绘制数据图
---
使用 MATLAB 的绘图函数使变量可视化。

## 8.1、绘制向量图
- 任务一：创建一个绘图，其中 sample 位于 x 轴，mass1 位于 y 轴。可以使用 plot 函数在一张图上绘制两个相同长度的向量。`plot(x,y)`
- 任务二：绘制 mass2（y 轴）对 sample（x 轴）的图。在绘图中使用红色 (r) 星号 (\*) 标记，并且不使用线条。
- 任务三：输入 hold on 命令。然后绘制 mass1（y 轴）对 sample（x 轴）的图，并带有黑色 (k) 方形 (s) 标记，不带线条。
- 任务四：输入 hold off 命令。
- 任务五：使用以下命令绘制向量 v1：`plot(v1)`
- 任务六：绘制 v1，线宽为 3。
- 任务七：绘制 v1（y 轴）对 sample（x 轴）的图，使用红色 (r) 圆圈 (o) 标记，线宽为 4。
### 8.1.1、任务一
> 创建一个绘图，其中 sample 位于 x 轴，mass1 位于 y 轴。可以使用 plot 函数在一张图上绘制两个相同长度的向量。`plot(x,y)`

![[Pasted image 20250211192550.png | 800]]

### 8.1.2、任务二
> 绘制 mass2（y 轴）对 sample（x 轴）的图。在绘图中使用红色 (r) 星号 (\*) 标记，并且不使用线条。

![[Pasted image 20250211193329.png]]
plot 函数接受一个附加参数。使用该参数，您可以通过在引号中包含不同符号的方式来指定与之对应的颜色、线型和标记样式。`plot(x,y,"r--o")`
以上命令将会绘制一条红色 (r) 虚线 (--)，并使用圆圈 (o) 作为标记。您可以在[线条设定](https://ww2.mathworks.cn/help/matlab/ref/plot.html#btzitot_sep_mw_3a76f056-2882-44d7-8e73-c695c0c54ca8)的文档中了解有关可用符号的详细信息。

### 8.1.3、任务三
> 输入 hold on 命令。然后绘制 mass1（y 轴）对 sample（x 轴）的图，并带有黑色 (k) 方形 (s) 标记，不带线条。

![[Pasted image 20250211193939.png | 800]]
请注意，每个绘图命令都创建了一个单独的绘图。要在一张图上先后绘制两条线，请使用`hold on`命令保留之前的绘图，然后添加另一条线。

### 8.1.4、任务四
> 输入 hold off 命令。

![[Pasted image 20250211194211.png | 800]]
启用保留状态时，将继续在同一坐标区上绘图。要恢复默认绘图行为，即其中每个绘图都有自己的坐标区，请输入 hold off。

### 8.1.5、任务五
> 使用以下命令绘制向量 v1：`plot(v1)`

![[Pasted image 20250211194430.png | 800]]
当您单独绘制一个向量时，MATLAB 会使用向量值作为 y 轴数据，并将 x 轴数据的范围设置为从 1 到 n（向量中的元素数目）。

### 8.1.6、任务六
> 绘制 v1，线宽为 3。

![[Pasted image 20250211194816.png | 800]]

plot 函数接受可选的附加输入，这些输入由一个属性名称和一个关联的值组成。`plot(y,"LineWidth",5)`命令将绘制一条粗线。您可以在[线条属性](https://ww2.mathworks.cn/help/matlab/ref/matlab.graphics.chart.primitive.line-properties.html)文档中了解更多可用属性的详细信息。

### 8.1.7、任务七
> 绘制 v1（y 轴）对 sample（x 轴）的图，使用红色 (r) 圆圈 (o) 标记，线宽为 4。

![[Pasted image 20250211195128.png | 800]]
使用 plot 函数时，您可在绘图参数和线条设定符之后添加属性名称-属性值对组。`plot(x,y,"ro-","LineWidth",5)`

## 8.2、编写绘图绘制
- 任务一：为现有绘图添加标题 "Sample Mass"。
- 任务二：使用 ylabel 函数添加标签 "Mass (g)"。
- 任务三：创建一个图例，其中依次包含标签 "Exp A" 和 "Exp B"。
### 8.2.1、任务一
> 为现有绘图添加标题 "Sample Mass"。

![[Pasted image 20250211200201.png | 800]]
可以使用绘图注释函数（例如 title）在绘图中添加标签。此类函数的输入是一个字符串。MATLAB 中的字符串是用双引号 (") 引起来的。`title("Plot Title")`
### 8.2.2、任务二
> 使用 ylabel 函数添加标签 "Mass (g)"。

![[Pasted image 20250211200519.png | 800]]

### 8.2.3、任务三
> 创建一个图例，其中依次包含标签 "Exp A" 和 "Exp B"。

![[Pasted image 20250211200722.png | 800]]
您可以使用 legend 函数为绘图添加图例。`legend("a","b","c")`

# 九、复习
---
## 9.1、实战项目：用电量
![[Pasted image 20250211201240.png]]

本项目需要提前下载这个mat文件：
![[data9.mat]]

![[Pasted image 20250211204803.png]]

### 9.1.1、任务一
> 导入data9.mat文件，再查看usage向量

![[Pasted image 20250211202049.png | 800]]

### 9.1.2、任务二
>usage 变量中有一个元素的值为 NaN。将该值替换为 2.74。

![[Pasted image 20250211202242.png | 800]]
在 MATLAB 中，NaN（即“非数值”）用于表示缺失数据。

### 9.1.3、任务三
> 居民数据存储在第一列中。创建一个变量 res，其中包含 usage 的第一列数据。

![[Pasted image 20250211202535.png | 800]]

### 9.1.4、任务四
> 商业数据和工业数据分别存储在第二列和第三列。创建变量 comm 和 ind，分别包含 usage 第二列和第三列的数据。

![[Pasted image 20250211202731.png | 800]]

### 9.1.5、任务五
> 创建一个名为 yrs 的向量，表示从 1991 年开始到 2013 年结束的年份。

![[Pasted image 20250211202901.png | 800]]
本示例使用的是从 1991 年到 2013 年收集的年用电量数据。通过创建的 yrs 变量可以在一个有意义的范围内绘制数据图。

### 9.1.6、任务六
>创建一个包含所有三列数据的绘图。使用 yrs 作为 x 数据。按下面的顺序和绘图设定绘制数据：
res：蓝色 (b) 虚线 (--)
comm：黑色 (k) 点线 (:)
ind：洋红色 (m) 点划线 (-.)

![[Pasted image 20250211203457.png | 800]]

### 9.1.7、任务七
> 将标题 "July Electricity Usage" 添加到现有绘图。
用值 "res"、"comm" 和 "ind" 创建图例。

![[Pasted image 20250211203755.png | 800]]

## 9.2、实战项目：音频频率
![[Pasted image 20250211203946.png]]

完成这个实验，需下载附件data10.mat：
![[data10.mat]]

### 9.2.1、任务一
> 加载文件 data10.mat。
创建一个名为 n 的变量，表示 y 中的元素数目。然后使用 n 创建等间距向量 t，该向量以 0 开头，以 n-1 结尾，元素之间的间距为 1。

![[Pasted image 20250212110710.png | 800]]
t 现在有正确的点数，但它需要表示音频信号的采样时间。您可以使用采样频率 fs 将向量转换为时间（以秒为单位）。

### 9.2.2、任务二
> 将 t 除以 fs。将输出赋给同一个变量 t。然后绘制 y 对 t 的图。

![[Pasted image 20250212113500.png | 800]]
t 现在有正确的点数，但它需要表示音频信号的采样时间。您可以使用采样频率 fs 将向量转换为时间（以秒为单位）。

### 9.2.3、任务三
> 创建一个名为 yfft 的变量，表示 y 的离散傅里叶变换的绝对值。

![[Pasted image 20250212114031.png | 800]]

在绘图中，请注意 y 是周期性的，但它不是简单的正弦波。它由具有不同频率的多个正弦波组成。
傅里叶变换将返回信号的频谱信息。主频的位置将显示和弦中包含的音符。
您可以使用 fft 函数来计算向量的离散傅里叶变换：`fft(y)`。fft 的输出值为复数。您可以使用 abs 函数来获得幅值。

### 9.2.4、任务四
> 创建等间距向量 f，该向量以 0 开头，以 n-1 结尾，元素之间的间距为 1。

![[Pasted image 20250212114238.png | 800]]
在任务 1 和 2 中，您已计算了信号 y 的时间向量 t。同样，您需要为您的 FFT 向量 yfft 计算频率向量 f。

### 9.2.5、任务五
> 将 f 乘以 fs/n。将输出赋给同一个变量 f。使用 x 的限值 0 和 1000 绘制 yfft 对 f 的图。

![[Pasted image 20250212114613.png | 800]]

![[mat10.gif | 1100]]

向量 f 现在包含 n 个点。要将这些点转换为频率，您可以将整个向量乘以采样频率 (fs)，然后除以点数 (n)。
f 将包含从 0 到 fs 的频率。主频位于 f 的开头位置。您可以使用 xlim 函数放大所关注的区域：`xlim([xmin xmax])`

![[Pasted image 20250212114711.png]]
![[Pasted image 20250212114734.png]]

# 十、导入数据
---
本章节使用的Excel表格：
![[elements.xlsx]]
## 10.1、以表的形式导入数据
![[mat11.gif |1100]]
如上图所示，导入Excel表格后，工作区生成了向量elemtns。

- 任务一：将 elements.Density 的内容赋给名为 d 的列向量。
- 任务二：将 elements.Density 的每个元素与 elements.Volume1 相乘。请使用 .\*。将结果赋给 elements.Mass。
- 任务三：按从最小到最大质量对表进行排序。

### 10.1.1、任务一
>将 elements.Density 的内容赋给名为 d 的列向量。

![[Pasted image 20250212141503.png | 1100]]
### 10.1.2、任务二
> 将 elements.Density 的每个元素与 elements.Volume1 相乘。请使用 .\*。将结果赋给 elements.Mass。

![[Pasted image 20250212142916.png | 800]]
如果您正在使用表，您可能希望将相关数据放在一起。您可以将计算结果赋给表，而不是创建单独的变量。`data.HeightMeters = data.HeightYards*0.9144`
如果变量 data.HeightMeters 不存在，MATLAB 将在表中创建名为 HeightMeters 的新变量。

### 10.1.3、任务三
> 按从最小到最大质量对表进行排序。

![[Pasted image 20250212144014.png | 800]]

# 十一、逻辑数组
---
## 11.1、逻辑索引
- 任务一：使用关系运算符 < 测试 π 是否小于 4。将输出赋给一个名为 test 的变量。
- 任务二：测试向量 v1 中是否有小于 4 的元素。将输出赋给一个名为 test 的变量。
- 任务三：创建一个名为 v 的变量，其中包含 v1 中所有小于 4 的元素。
- 任务四：创建一个名为 s 的变量，其中包含 sample 中与 v1 中小于 4 的元素所在位置对应的元素。
- 任务五：修改 v1，将其中任何小于 4 的值都替换为 0。

需要用到的Matlab文件:
![[data10_1.mat]]

### 11.1.1、任务一
> 使用关系运算符 < 测试 π 是否小于 4。将输出赋给一个名为 test 的变量。
![[Pasted image 20250212161023.png | 800]]

[关系运算符](https://ww2.mathworks.cn/help/matlab/matlab_prog/array-comparison-with-relational-operators.html)（例如 >、<、== 和 ~=）执行两个值之间的比较。相等或不相等比较的结果为 1 (true) 或 0 (false)。

### 11.1.2、任务二
> 测试向量 v1 中是否有小于 4 的元素。将输出赋给一个名为 test 的变量。

![[Pasted image 20250212161250.png | 800]]
您可以使用关系运算符将某个向量或矩阵与单个标量值进行比较。结果是与原始数组相同大小的逻辑数组。
```c
[5 10 15] > 12
ans = 
    0    0    1
```

### 11.1.3、任务三
> 创建一个名为 v 的变量，其中包含 v1 中所有小于 4 的元素。

![[Pasted image 20250212161527.png | 800]]

您可以使用逻辑数组作为数组索引，在这种情况下，MATLAB 会提取索引为 true 的数组元素。以下示例将会提取 v1 中大于 6 的所有元素。
```c
v = v1(v1 > 6)
v =
    6.6678
    9.0698
```

### 11.1.4、任务四
> 创建一个名为 s 的变量，其中包含 sample 中与 v1 中小于 4 的元素所在位置对应的元素。

![[Pasted image 20250212161947.png | 800]]
您也可以对两个不同向量使用逻辑索引。
```c
v = sample(v1 > 6)
v =
    18
    23
```

### 11.1.5、任务五
> 修改 v1，将其中任何小于 4 的值都替换为 0。

![[Pasted image 20250212162232.png | 800]]


# 十二、编程
---
## 12.1、决策分支
需要使用的Matlab文件：
![[data11.mat]]
### 12.1.1、任务一
> 修改脚本，使第 4-7 行的绘图代码仅在 doPlot 为 1 时执行。
```c
plot(density)
title("Sample Densities")
xticklabels(element)
ylabel("Density (g/cm^3)")
```
![[Pasted image 20250212154517.png | 800]]
仅当条件为 true 时，才执行 if 代码块的主体。

### 12.1.2、任务二
> 修改脚本，以便在 if 条件得不到满足时，执行以下代码行：

```c
disp("The density of " + element ...
    + " is " + density)
```

![[Pasted image 20250212154822.png | 800]]
通常，您可能还希望在所设条件不成立时执行其他代码。为此，您可以使用 else 关键字，如下所示:
```c
x = rand
if x > 0.5
    y = 3
else
    y = 4
end
```

## 12.2、For循环
### 12.2.1、任务一
> 将实时脚本第二节（第 4-7 行）中的代码放在一个循环中，以便代码执行 7 次。将您的循环计数器命名为 idx。首次执行循环时，idx 的值应为 1，并且每次迭代时递增 1。
```c
    hold on
    plot(idx,density(idx),'*')
    hold off
    pause(0.2)
```
![[mat12.gif | 1100]]
运行以下代码时，循环体将被执行三次，因为循环计数器 (c) 通过 1:3（1、2 和 3）进行计数。
![[Pasted image 20250212160033.png]]

# 十三、综合项目练习
---
## 13.1、恒星运动
本章节需要使用的Matlab文件:
![[data12.mat]]
### 13.1.1、任务一
![[Pasted image 20250212164550.png]]
![[Pasted image 20250212165641.png | 800]]
### 13.1.2、任务二
> 将 spectra 的第六列提取到一个名为 s 的向量。

![[Pasted image 20250212170100.png | 800]]

spectra 的每一列分别对应不同恒星的光谱。第六列是恒星 HD 94028 的光谱。

### 13.1.3、任务三
> 将光谱 (s) 作为波长 (lambda) 的函数进行绘图，在两个坐标轴上使用对数刻度。使用点标记 (.) 并用实线 (-) 连接各点。
在绘图中添加 x 标签 "Wavelength" 和 y 标签 "Intensity"。

![[Pasted image 20250212170406.png | 800]]
使用 loglog 函数（用法同 plot 函数），在每个坐标轴上使用对数刻度绘制数据。`loglog(x,y,"*--")`

### 13.1.4、任务四
![[Pasted image 20250212172648.png]]
![[Pasted image 20250212172855.png | 800]]
min 函数可以带有两个输出，其中第二个输出为最小值的索引。该索引与氢-α 谱线的位置对应。

### 13.1.5、任务五
> 将 x = lambdaHa、y = sHa 处的点绘制成一个标记大小 ("MarkerSize") 为 8 的红色方框 ("rs")，添加到现有图中。

![[Pasted image 20250212173346.png | 800]]
### 13.1.6、任务六
>计算红移量以及恒星远离地球的速度 (km/s)。将红移量赋给名为 z 的变量，将速度赋给名为 speed 的变量。

![[Pasted image 20250212173522.png | 800]]

### 13.1.7、任务七 & 任务二
> 修改脚本的任务 2 和 7 节，计算 spectra 中的第二个恒星（而不是第六个）的红移。

![[Pasted image 20250212173723.png | 800]]

## 13.2、恒星运动II
### 13.2.1、任务一
