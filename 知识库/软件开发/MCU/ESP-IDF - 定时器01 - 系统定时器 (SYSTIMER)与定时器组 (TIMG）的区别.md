## 导言
---
从乐鑫官方提供的技术手册《esp32-s3_technical_reference_manual_cn》看到，ESPS3有两种定时器：
- 系统定时器 (SYSTIMER)
- 定时器组 (TIMG）
在ESP32-S3中，系统定时器（SYSTIMER）和定时器组（TIMG）有不同的设计和功能用途。
1. **系统定时器（SYSTIMER）**:
    - **设计目的**：系统定时器主要用于提供一个高精度的时间基准，适合用于操作系统的时间管理和任务调度。
    - **功能特性**：
        - 提供三个64位计数器。
        - 支持多个比较器，用于生成定时器中断。
        - 可以选择不同的时钟源，包括APB时钟和RTC慢速时钟。
        - 支持单次和周期性报警功能。
2. **定时器组（TIMG）**:
    - **设计目的**：定时器组包括两个独立的定时器，每个定时器都有自己的预分频器和特定功能，通常用于需要精确控制的定时任务，如PWM生成或时间测量。
    - **功能特性**：
        - 每组包含两个定时器，每个定时器都是一个64位的递增或递减计数器。
        - 支持不同的工作模式，包括自重载计数器和报警功能。
        - 提供了丰富的中断功能，可以响应不同的定时事件。
        - 适用于需要较高精度和多功能的时间控制应用。
总结来说，系统定时器更适合用于系统级的时间管理和精确的时间控制，而定时器组则提供了更多的灵活性和控制功能，适用于多种定时需求的场景。

## 一、esp_timer.h 与 driver/gptimer.h
---
系统定时器与定时器组比较底层。esp-idf库将它们封装起来了。esp_timer.h封装了系统定时器。.gptimer.h封装了定时器组。所以：
- 创建简单的定时器，使用esp_timer.h。
- 创建复杂，自由度高、精确的定时器，使用gptimer.h。