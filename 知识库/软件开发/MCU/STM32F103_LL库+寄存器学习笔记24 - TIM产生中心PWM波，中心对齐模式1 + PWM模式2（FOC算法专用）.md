# 导言
---
《[[STM32外设 - HAL库 - TIM，产生互补PWM波，中心对齐模式1 + PWM模式2（FOC算法专用）]]》之前的笔记使用HAL库实现三相中心对齐且互补的PWM波形，本章节将采用LL库与寄存器方式实现。详细的解释请看之前的HAL库笔记。

# 一、LL库
---
## 1.1、CubeMX
![[Pasted image 20250513201619.png | 1000]]
如上所示，为什么这样设置，请看之前的HAL库笔记《[[STM32外设 - HAL库 - TIM，产生互补PWM波，中心对齐模式1 + PWM模式2（FOC算法专用）]]》。

![[Pasted image 20250513201748.png | 1000]]
如上所示，3个通道的设置一样，这里只演示通道1的设置。

![[Pasted image 20250513201902.png | 1000]]

## 1.2、tim.c
![[Pasted image 20250513202108.png | 1000]]

## 1.3、main.c
![[Pasted image 20250513202426.png | 1000]]
如上所示，6个通道分别使能之后，还要打开一个总开关。接着，启动定时器，PWM输出。

## 1.4、编译、调试
![[Pasted image 20250513202825.png | 1000]]
编译通过。
![[Pasted image 20250513203010.png | 1000]]
如上所示，用示波器测量通道1的波形。PWM频率10KHz，占空比非常接近50%。

# 二、寄存器方式
---
## 2.1、



























