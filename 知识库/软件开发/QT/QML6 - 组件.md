# 导言
---
qml官方文档: https://www.qt.io/product/qt6/qml-book/ch04-qmlstart-components
![[Pasted image 20240927115647.png]]
如上图所示，官方文档并没有详细说明如何使用Item{}来进一步让button{}组建的API隐藏起来。

# 一、工程目录
---
![[Pasted image 20240927120102.png]]

<div class="warning">
<strong>警告</strong><br><br>新的qml组件，比如上图的MyButton.qml的文件命名需要注意，字母开头必须大写，否则会出现识别不出组件。
</div>

## 1.1、character.qmlproject
---
```java
/* File generated by Qt Creator */

import QmlProject 1.1

Project {
    mainFile: "character.qml"

    /* Include .qml, .js, and image files from current directory and subdirectories */
    QmlFiles {
        directory: "."
    }
    JavaScriptFiles {
        directory: "."
    }
    ImageFiles {
        directory: "."
    }
    /* List of plugin directories passed to QML runtime */
    // importPaths: [ "asset_imports" ]

    mainUiFile: "MyButton.qml"
}

```
## 1.2、character.qml
---
```java
import QtQuick 2.0

Window {
    width: 640
    height: 480
    visible: true
    title: qsTr("Hello World")

    MyButton {
        id: button1
        text: "Button1"
    }

    Connections {
        target: button1
        function onClicked() {
            console.log("Button was clicked!");
        }
    }
}

```

## 1.3、MyButton.qml
---
```java
import QtQuick 2.0

Item {
    id: root
    width: 100
    height: 50

    property string text: "Start"
    signal clicked // 定义一个信号

    Rectangle { // our inlined button ui
        id: button
        x: 12; y: 12
        width: 116; height: 26
        color: "lightsteelblue"
        border.color: "slategrey"
        Text {
            anchors.centerIn: parent
            text: root.text
        }
        MouseArea {
            id: mouseArea
            anchors.fill: parent
            onClicked: root.clicked() // 发出 clicked 信号
        }
    }

    Text { // text changes when button was clicked
        id: status
        x: 12; y: 76
        width: 116; height: 26
        text: "waiting ..."
        horizontalAlignment: Text.AlignHCenter
    }
}
```







